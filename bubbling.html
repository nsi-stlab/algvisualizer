<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"> 
<title>冒泡</title> 
<script src="http://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script>
<style type="text/css">
	ul{/*display:-webkit-flex; display:flex;*/ position:relative; vertical-align:bottom;}
	li{list-style-type:none; width:40px; margin-right:2px; position: absolute; transition: all 0.5s;}
</style>
</head>
<body>
	<div id="z">    
        <ul id="x">
        </ul>
    </div>
</body>
</html>

<script type="text/javascript">
		function r(numsh,numsl,id){
			var div = document.createElement('li');
			div.innerHTML = ''; //设置显示的数据，可以是标签．
			div.style.background = "rgb("+Math.random()*255+","+Math.random()*255+","+Math.random()*255+")";//设置css样式,s设置背景颜色\
			div.style.height = numsh+"px";
			div.style.left = numsl+"px";
			div.className = id;
			//div.style.transform = "translate("+numsl+"px,0px)";
	
			var bo = document.getElementById("x");//获取body对象.
			//动态插入到body中
			bo.insertBefore(div,bo.lastChild);
		}


	
	 	var nums=[54,41,62,91,71,63];
		for(var i=0;i<nums.length;i++){
			r(nums[i],i*44,i+1);
		}
		var mycars = new Array();
		
		
        //进行几轮比较，确定几个位置
        for(var i=0;i<nums.length-1;i++){
            for(var j=0;j<nums.length-1-i;j++){
                if(nums[j]>nums[j+1]){
                    var tmp=nums[j+1];
                    nums[j+1]=nums[j];
                    nums[j]=tmp;
					mycars.push(j)
					/*j1 = j + 1
					j2 = j + 2
                    l1 = $("#z li:nth-child("+j1+")").css("left");
                    l2 = $("#z li:nth-child("+j2+")").css("left");
                    p1 = parseInt(l1)
                    p2 = parseInt(l2)
                    alert(p1)

						$("#z li:nth-child("+j1+")").css("left",p2);
						$("#z li:nth-child("+j2+")").css("left",p1);
                    $.speed("1000");*/
                }
            }
            console.log("第"+(i+1)+"次排序后的结果:");
            for(var k=0;k<nums.length;k++){
                console.log(nums[k]+" ");
            }console.log("");
        }
        console.log("冒泡后的数组=");
		for(let num of nums) {
			console.log(mycars);
		}
		var zl = 0;
		setInterval(function(){
			var zl1 = mycars[zl]+1;
			var zl2 = mycars[zl]+2;
			//$("#z li:nth-child("+zl1+")").css("left",$("#z li:nth-child("+zl2+")").css("left")).attr("class",zl2);
			//$("#z li:nth-child("+zl2+")").css("left",$("#z li:nth-child("+zl1+")").css("left")).attr("class",zl1);
			$("."+zl1+"").css("left",$("."+zl2+"").css("left"));
			$("."+zl2+"").css("left",$("."+zl1+"").css("left"));
			$("."+zl1+"").attr("class",123456);
			$("."+zl2+"").attr("class",zl1);
			$(".123456").attr("class",zl2);
			zl++;
		},500);
		
		
</script>